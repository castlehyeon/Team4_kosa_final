<!--##bc2e62f6-450c-47c2-b81a-d0386856e62a##-->
<!--##CDMJIM00100_Main##-->
<!--##q/prvp/UDoqWWUl3yQDzNZDR7zyuPO9aGlF4c8oyMJkNXMl7PkvCwrzZ8vhtLdS/##-->
<!--
  DEWS UI/UX IDE - Build Result - v1.5
  # PageID: CDMJIM00100_Main
  # PageTitle: 직무분류관리
  # Server: http://localhost:8080/
-->
<!--

-->

<div class="dews-button-group" style="text-align: right;">
  <button class="dews-ui-button">양식받기</button>
  <button class="dews-ui-button">엑셀업로드</button>
</div>
<div class="dews-ui-condition-panel">
  <ul class="required-area">
    <li>
      <label class="dews-ui-multilingual">조회구분</label>
      <span>
        <select id="FG_DROP" name="FG_DROP" class="dews-ui-dropdownlist basic" data-dews-value-field="SYSDEF_CD" data-dews-text-field="SYSDEF_NM" data-dews-show-tooltip="true" data-dews-show-value-tooltip="true" data-dews-use-numkey="false"></select>
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">사용여부</label>
      <span>
        <select id="USE_DROP" name="USE_DROP" class="dews-ui-dropdownlist basic" data-dews-value-field="USE_YN" data-dews-text-field="USE_YN_NM" data-dews-show-tooltip="true" data-dews-option-label-value="" data-dews-option-label-text="" data-dews-show-value-tooltip="true" data-dews-use-numkey="false"></select>
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">조회조건</label>
      <span>
        <input type="checkbox" class="dews-ui-checkbox" checked="checked" />
        <label>최종버전 조회</label>
      </span>
    </li>
  </ul>
  <ul class="optional-area">
    <li>
      <label class="dews-ui-multilingual">대분류코드</label>
      <span>
        <select id="multicodepicker1" name="multicodepicker1" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">중분류코드</label>
      <span>
        <select id="multicodepicker2" name="multicodepicker2" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">소분류코드</label>
      <span>
        <select id="multicodepicker3" name="multicodepicker3" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">세분류코드</label>
      <span>
        <select id="multicodepicker4" name="multicodepicker4" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">능력단위코드</label>
      <span>
        <select id="multicodepicker5" name="multicodepicker5" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
    <li>
      <label class="dews-ui-multilingual">능력단위요소</label>
      <span>
        <select id="multicodepicker6" name="multicodepicker6" class="dews-ui-multicodepicker basic" data-dews-help-custom="false" data-dews-help-size="medium" />
      </span>
    </li>
  </ul>
</div>
<div class="dews-button-group" style="text-align: right;">
  <h2 class="dews-ui-title">직무분류</h2>
</div>
<div class="dews-ui-container-panel" data-dews-fit-bottom="true">
  <div class="dews-container-item" data-dews-position="normal">
    <div id="main_grid" class="dews-ui-grid"></div>
  </div>
</div>
<div class="dews-button-group" style="text-align: right;">
  <h2 class="dews-ui-title">세부분류</h2>
  <button class="dews-ui-button">추가</button>
  <button class="dews-ui-button">삭제</button>
</div>
<div class="dews-ui-container-panel">
  <div class="dews-container-item" data-dews-position="left" data-dews-width="443px">
    <div id="grid2" class="dews-ui-grid"></div>
  </div>
  <div class="dews-container-item" data-dews-position="normal">
    <div class="dews-ui-arcodien" data-dews-arcodien-height="0" data-dews-item-height="0">
      <ul>
        <li class="dews-arcodien-item" data-dews-item-title="수행준거내역" data-dews-item-height="0">
          <div id="grid4" class="dews-ui-grid"></div>
        </li>
      </ul>
    </div>
    <div id="grid3" class="dews-ui-grid"></div>
  </div>
</div>

<style>
    
</style>



<script>
  dews.ready(function () {
    var self = this;
    self.version = self.version || {};
    self.version.view='1.0';


    
    
    self.dataSource1 = dews.ui.dataSource('dataSource1', {
      grid: true,
      schema: {
        model: {
          fields: [
            { field: 'LCLAS_CD', editable: false, dataType: 'string' }, 
            { field: 'MLSFC_CD', editable: false, dataType: 'string' }, 
            { field: 'S_CSF_CD', editable: false, dataType: 'string' }, 
            { field: 'N_CSF_CD', editable: false, dataType: 'string' }
          ]
    
        }
      },
      data: []
    });
    self.MAIN_DS = dews.ui.dataSource('MAIN_DS', {
      grid: true,
      transport: {
        read: {
          type: 'post',
          url: dews.url.getApiUrl('HR', 'Cdmjim00100_MainGrid_Service', 'cdmjim00100_MainGrid_List'),
          data: function () {
            return {
              USE_YN: '',
              JOB_FG: ''
            };
          }
        }
      },
      schema: {
        model: {
          fields: [
            { field: 'USE_YN', editable: false, dataType: 'string' }, 
            { field: 'JOB_FG', editable: false, dataType: 'string' }, 
            { field: 'ACLF_NO', editable: false, dataType: 'string' }, 
            { field: 'VER_CD', editable: false, dataType: 'string' }, 
            { field: 'LCLAS_CD', editable: false, dataType: 'string' }, 
            { field: 'LCLAS_NM', editable: false, dataType: 'string' }, 
            { field: 'MLSFC_CD', editable: false, dataType: 'string' }, 
            { field: 'MLSFC_NM', editable: false, dataType: 'string' }, 
            { field: 'S_CSF_CD', editable: false, dataType: 'string' }, 
            { field: 'S_CSF_NM', editable: false, dataType: 'string' }, 
            { field: 'TCLF_CD', editable: false, dataType: 'string' }, 
            { field: 'TCLF_NM', editable: false, dataType: 'string' }, 
            { field: 'ACLF_CD', editable: false, dataType: 'string' }, 
            { field: 'ACLF_NM', editable: false, dataType: 'string' }, 
            { field: 'ACLF_LV', editable: false, dataType: 'number' }, 
            { field: 'ACLF_TXT', editable: false, dataType: 'string' }, 
            { field: 'COMPANY_CD', editable: false, dataType: 'string' }
          ]
    
        }
      }
    });
    self.use_yn = dews.ui.dataSource('use_yn', {
      schema: {
        model: {
          fields: [
            { field: 'USE_YN', editable: false, type: 'number' }, 
            { field: 'USE_YN_NM', editable: false, type: 'string' }
          ]
    
        }
      },
      data: [{USE_YN: 'Y', USE_YN_NM: 'YES'},
    {USE_YN: 'N', USE_YN_NM: 'NO'}]
    });
    self.dataSource3 = dews.ui.dataSource('dataSource3', {
      grid: true,
      schema: {
        model: {
          fields: [
            { field: 'ABIILITY_NM', editable: false, dataType: 'string' }, 
            { field: 'S_ABILITY_NO', editable: false, dataType: 'string' }, 
            { field: 'S_ABILITY_NM', editable: false, dataType: 'string' }, 
            { field: 'S_ABILITY_LV', editable: false, dataType: 'string' }, 
            { field: 'PERFORM_NO', editable: false, dataType: 'string' }, 
            { field: 'PERFORM_DC', editable: false, dataType: 'string' }
          ]
    
        }
      },
      data: [
      {
        "ABIILITY_NM": "1 ",
        "S_ABILITY_NO": "조직의 비전과 중ㆍ장기 사업전략에 따라 인사전략 환경을 분석할 수 있다.",
        "S_ABILITY_NM": null,
        "S_ABILITY_LV": null,
        "PERFORM_NO": null,
        "PERFORM_DC": null
      },
      {
        "ABIILITY_NM": "2 ",
        "S_ABILITY_NO": "인사전략 환경분석 결과에 따라 중ㆍ장기 인사전략의 방향성을 수립할 수 있다.",
        "S_ABILITY_NM": null,
        "S_ABILITY_LV": null,
        "PERFORM_NO": null,
        "PERFORM_DC": null
      },
      {
        "ABIILITY_NM": "3 ",
        "S_ABILITY_NO": "중ㆍ장기 방향성에 따라 당해 연도의 인사전략을 수립할 수 있다.",
        "S_ABILITY_NM": null,
        "S_ABILITY_LV": null,
        "PERFORM_NO": null,
        "PERFORM_DC": null
      }
    ]
    });
    self.dataSource4 = dews.ui.dataSource('dataSource4', {
      grid: true,
      schema: {
        model: {
          fields: [
            { field: 'NEED1_NM', editable: false, dataType: 'string' }, 
            { field: 'NEED2_NM', editable: false, dataType: 'string' }, 
            { field: 'NEED3_NM', editable: false, dataType: 'string' }
          ]
    
        }
      },
      data: [
      {
        "NEED1_NM": "전략적 인적자원관리",
        "NEED2_NM": " 환경분석 능력",
        "NEED3_NM": "전략적 사고"
      },
      {
        "NEED1_NM": "인사전략 환경분석법",
        "NEED2_NM": "비전과 중장기 사업 전략 분석",
        "NEED3_NM": "포괄적 시각"
      },
      {
        "NEED1_NM": "관리회계",
        "NEED2_NM": null,
        "NEED3_NM": "거시적 시각"
      }
    ]
    });
    
    
    dews.ui.mainbuttons.information.disable(true);
    dews.ui.mainbuttons.localize.disable(true);
    dews.ui.mainbuttons.etnapproval.hide();
    dews.ui.mainbuttons.search.click(/*57f1e984-d23f-421a-9d7b-eaff278f1930*/ function () {
    
        // TODO: 필수항목 입력을 체크한 후 데이터소스를 조회합니다.
        // if (self.searchCondition.validate({tooltip:true,message:'필수 항목을 입력해 주십시요.'}))
        // {
        //     self.dataSource1.read();
        // }
    
        // TODO: 저장여부를 확인한 후 데이터소스를 조회합니다.
        if (self.MAIN_DS.getDirtyDataCount() != 0) {
            dews.confirm('저장하지 않은 데이터가 있습니다. 조회를 계속하시겠습니까?', 'ico2').yes(function () {
                self.MAIN_DS.read();
            }).no(function () {
                dews.ui.snackbar.warning('취소되었습니다.');
                return false;
            });
        } else {
            self.MAIN_DS.read();
        }
    });
    self.FG_DROP.setDataSource(self.pipeDataSource1);
    self.USE_DROP.setDataSource(self.use_yn);
    dews.ui.grid(self.$main_grid, {
      dataSource: self.MAIN_DS,
      height: 295,
      sortable: false,
      copyMode: 'cell',
      columns: [
        {
          field: 'USE_YN',
          title: '사용여부',
          width: 60,
          formats: {
            type: 'dataSource',
            dataSource: self.use_yn,
            dataValueField: 'USE_YN',
            dataTextField: 'USE_YN_NM'
          }
        },
        {
          field: 'JOB_FG',
          title: '직업구분',
          width: 60
        },
        {
          field: 'ACLF_NO',
          title: '능력분류번호',
          width: 60
        },
        {
          field: 'VER_CD',
          title: '버전코드',
          width: 80
        },
        {
          field: 'LCLAS_CD',
          title: '대분류코드',
          width: 80
        },
        {
          field: 'LCLAS_NM',
          title: '대분류명',
          width: 90,
          align: 'left'
        },
        {
          field: 'MLSFC_CD',
          title: '중분류코드',
          width: 80
        },
        {
          field: 'MLSFC_NM',
          title: '중분류명',
          width: 90,
          align: 'left'
        },
        {
          field: 'S_CSF_CD',
          title: '소분류코드',
          width: 80
        },
        {
          field: 'S_CSF_NM',
          title: '소분류명',
          width: 90,
          align: 'left'
        },
        {
          field: 'TCLF_CD',
          title: '세분류코드',
          width: 80
        },
        {
          field: 'TCLF_NM',
          title: '세분류명',
          width: 90,
          align: 'left'
        },
        {
          field: 'ACLF_CD',
          title: '능력분류코드',
          width: 80
        },
        {
          field: 'ACLF_NM',
          title: '능력분류명',
          width: 90,
          align: 'left'
        },
        {
          field: 'ACLF_LV',
          title: '능력분류레벨',
          width: 60
        },
        {
          field: 'ACLF_TXT',
          title: '능력분류텍스트',
          width: 60
        },
        {
          field: 'COMPANY_CD',
          title: '회사코드',
          width: 80,
          visible: false
        }
      ],
      fixed: {
        colCount: 0,
        rightColCount: 0
      }
    });
    dews.ui.grid(self.$grid2, {
      dataSource: self.dataSource3,
      height: 200,
      sortable: false,
      checkable: false,
      copyMode: 'cell',
      columns: [
        {
          field: 'ABIILITY_NM',
          title: '능력단위명',
          width: 90,
          align: 'left',
          visible: false
        },
        {
          field: 'S_ABILITY_NO',
          title: '능력단위요소번호',
          width: 60
        },
        {
          field: 'S_ABILITY_NM',
          title: '능력단위요소명',
          width: 150,
          align: 'left'
        },
        {
          field: 'S_ABILITY_LV',
          title: '능력단위요소레벨',
          width: 60
        },
        {
          field: 'PERFORM_NO',
          title: '수행준거번호',
          width: 60,
          visible: false
        },
        {
          field: 'PERFORM_DC',
          title: '수행준거내역',
          width: 300,
          align: 'left',
          visible: false
        }
      ],
      fixed: {
        colCount: 0,
        rightColCount: 0
      }
    });
    dews.ui.grid(self.$grid4, {
      dataSource: self.dataSource3,
      sortable: false,
      checkable: false,
      copyMode: 'cell',
      columns: [
        {
          field: 'ABIILITY_NM',
          title: '능력단위명',
          width: 90,
          align: 'left',
          visible: false
        },
        {
          field: 'S_ABILITY_NO',
          title: '능력단위요소번호',
          width: 60,
          visible: false
        },
        {
          field: 'S_ABILITY_NM',
          title: '능력단위요소명',
          width: 90,
          align: 'left',
          visible: false
        },
        {
          field: 'S_ABILITY_LV',
          title: '능력단위요소레벨',
          width: 60,
          visible: false
        },
        {
          field: 'PERFORM_NO',
          title: '수행준거번호',
          width: 60
        },
        {
          field: 'PERFORM_DC',
          title: '수행준거내역',
          width: 350,
          align: 'left'
        }
      ],
      fixed: {
        colCount: 0,
        rightColCount: 0
      }
    });
    dews.ui.grid(self.$grid3, {
      dataSource: self.dataSource4,
      height: 161,
      sortable: false,
      checkable: false,
      copyMode: 'cell',
      columns: [
        {
          field: 'NEED1_NM',
          title: '필요지식',
          width: 90,
          align: 'left'
        },
        {
          field: 'NEED2_NM',
          title: '필요기술',
          width: 90,
          align: 'left'
        },
        {
          field: 'NEED3_NM',
          title: '필요역량',
          width: 90,
          align: 'left'
        }
      ],
      fixed: {
        colCount: 0,
        rightColCount: 0
      }
    });
    
    
    
    
    

  
  });

</script>